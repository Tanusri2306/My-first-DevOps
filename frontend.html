<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape Room</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #1d1f20;
            color: #f0f0f0;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .container {
            width: 80%;
            max-width: 800px;
            margin: 50px auto;
            text-align: center;
            background-color: #2b2f36;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 10px rgba(0, 255, 255, 0.2);
            position: relative;
        }

        h1.title {
            font-size: 3em;
            color: #00ff99;
            text-transform: uppercase;
            margin-bottom: 20px;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
        }

        h2 {
            font-size: 2em;
            color: #ff00ff;
            margin: 20px 0;
        }

        #game-container {
            display: block;
        }

        #answer-section {
            margin-top: 20px;
        }

        input {
            padding: 10px;
            font-size: 1.2em;
            width: 80%;
            margin-bottom: 20px;
            border: 2px solid #00ff99;
            border-radius: 5px;
            background-color: #2b2f36;
            color: #00ff99;
        }

        button {
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #ff00ff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }

        button:disabled {
            background-color: #555555;
        }

        #attempts-label {
            margin-top: 10px;
            font-size: 1.1em;
            color: #ff00ff;
        }

        #timer {
            font-size: 1.2em;
            color: #00ff99;
            margin-top: 10px;
        }

        #end-screen {
            margin-top: 20px;
        }

        #end-screen button {
            background-color: #00ff99;
            color: #121212;
        }

        /* Neon Glow Effect */
        .neon {
            text-shadow: 0 0 10px rgba(0, 255, 255, 1), 0 0 20px rgba(0, 255, 255, 1), 0 0 30px rgba(0, 255, 255, 1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title neon">Escape Room</h1>
        <div id="game-container" style="display: none;">
            <h2 id="puzzle-title">Welcome!</h2>
            <p id="question">You will face a series of challenging puzzles. Solve them all to escape!</p>
            <div id="answer-section">
                <input type="text" id="answer-input" placeholder="Type your answer here" disabled>
                <button id="submit-btn" disabled>Submit</button>
                <p id="attempts-label">Attempts remaining: 3</p>
                <p id="timer">Time remaining: 15s</p>
            </div>
        </div>
        <div id="end-screen" style="display: none;">
            <h2>Congratulations!</h2>
            <p>You have successfully completed all the puzzles and escaped the room!</p>
            <button onclick="window.location.reload()">Play Again</button>
        </div>
        <button id="start-btn">Start Test</button>
    </div>

    <script>
        let currentPuzzle = 0;
        let attempts = 3;
        let totalTime = 60; // Total test time (1 minute)
        let questionTime = 15; // Time per question (15 seconds)
        let totalTimerInterval, questionTimerInterval;
        let puzzles = [
            {
                title: " Adventures in the tiny world",
        IQ : [
            "The year the first moon landing happened?",
            "The more you take, the more you leave behind. What am I?",
            "What is always in front of you, but you can never see me?",
            "What has a neck but no head?"
            ],
          "answer": {
            "The year the first moon landing happened?": "1969",
            "The more you take, the more you leave behind. What am I?": "footprints",
            "What is always in front of you, but you can never see me?": "future",
            "What has a neck but no head?": "bottle",
            }
            },
    
{
                "title" : "Hidden Message",
            IQ : [
                    "What did the ocean say to the beach?",
                    "What did one wall say to the other wall?",
                    "What can travel around the world while staying in the corner?",
                    "What comes down but never goes up?"
        ],
         "answer" : {
            "What comes once in a minute, twice in a moment, but never in a thousand years?": "m",
            "I'm tall when I'm young, and I'm short when I'm old. What am I?": "candle",
            "What's the longest word in the dictionary?": "smiles",
            "What begins with T, ends with T, and has T in it?": "teapot",
         }
        }, 


            {
                "title": "Logic Puzzle",
                IQ : [
                    "What did the ocean say to the beach?",
                    "What did one wall say to the other wall?",
                    "What can travel around the world while staying in the corner?",
                    "What comes down but never goes up?"
            
        ],
        "answer": {
            "What did the ocean say to the beach?": "nothing",
            "What did one wall say to the other wall?": "I'll meet you at the corner",
            "What can travel around the world while staying in the corner?": "stamp",
            "What comes down but never goes up?": "rain"
            }
        },


        {
        "title": "The Mysterious Box",
        IQ : [
            "I speak without a mouth and hear without ears. I have no body, but I come alive with the wind?",
            "I have cities, but no houses. I have mountains, but no trees. I have water, but no fish?",
            "What has many keys, but cannot open a single door?",
            "What can you break, even if you never pick it up or touch it?"
        ],
        "answers": {
            "I speak without a mouth and hear without ears. I have no body, but I come alive with the wind?": "echo",
            "I have cities, but no houses. I have mountains, but no trees. I have water, but no fish?": "maps",
            "What has many keys, but cannot open a single door?": "piano",
            "What can you break, even if you never pick it up or touch it?": "promise"
        }
    },
];

        // Start the total timer for the entire game
        function startTotalTimer() {
            totalTimerInterval = setInterval(function() {
                totalTime--;
                document.getElementById('timer').textContent = Time remaining: ${totalTime}s;

                if (totalTime <= 0) {
                    clearInterval(totalTimerInterval);
                    alert("Time's up! Game Over.");
                    window.location.reload(); // Restart the game if time runs out
                }
            }, 1000);
        }

        // Start the timer for the current question
        function startQuestionTimer() {
            questionTimerInterval = setInterval(function() {
                questionTime--;
                document.getElementById('timer').textContent = Time remaining: ${questionTime}s;

                if (questionTime <= 0) {
                    clearInterval(questionTimerInterval);
                    alert("Time's up! Moving to the next puzzle.");
                    nextPuzzle();
                }
            }, 1000);
        }

        // Update the current puzzle's details
        function updatePuzzle() {
            const puzzle = puzzles[currentPuzzle];
            document.getElementById("puzzle-title").textContent = puzzle.title;
            document.getElementById("question").textContent = puzzle.question;
            document.getElementById("answer-input").disabled = false;
            document.getElementById("submit-btn").disabled = false;
            questionTime = 15; // Reset question timer to 15 seconds
            startQuestionTimer(); // Start the 15-second timer for this question
        }

        // Check the user's answer
        function checkAnswer() {
            const input = document.getElementById("answer-input").value.trim().toLowerCase();
            const correctAnswer = puzzles[currentPuzzle].answer.toLowerCase();

            if (input === correctAnswer) {
                alert("Correct! Moving to the next puzzle.");
                nextPuzzle();
            } else {
                attempts--;
                if (attempts === 0) {
                    alert("Game Over! No more attempts left.");
                    window.location.reload(); // Restart the game
                } else {
                    document.getElementById("attempts-label").textContent = Attempts remaining: ${attempts};
                }
            }

            document.getElementById("answer-input").value = '';
        }

        // Move to the next puzzle
        function nextPuzzle() {
            clearInterval(questionTimerInterval); // Stop the question timer
            currentPuzzle++;
            if (currentPuzzle < puzzles.length) {
                attempts = 3; // Reset attempts for the next puzzle
                document.getElementById("attempts-label").textContent = Attempts remaining: ${attempts};
                updatePuzzle();
            } else {
                document.getElementById("game-container").style.display = "none";
                document.getElementById("end-screen").style.display = "block";
            }
        }

        // Handle start button click
        document.getElementById("start-btn").addEventListener("click", function() {
            document.getElementById("start-btn").style.display = "none"; // Hide the Start button
            document.getElementById("game-container").style.display = "block"; // Show the game container
            startTotalTimer(); // Start the total test timer
            updatePuzzle(); // Start the first puzzle
        });

        document.getElementById("submit-btn").addEventListener("click", checkAnswer);
    </script>
</body>
</html>